<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>BudgetMariage – Simulateur instantané (gratuit)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Calculez instantanément le budget de votre mariage : répartition par postes, conseils d’optimisation et guides pratiques. Outil 100% gratuit.">

  <!-- Favicon : place un fichier /favicon.ico à la racine -->
  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" href="/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">

  <!-- Styles “champêtre” (vert forêt, beige, doré) -->
  <style>
    :root{
      --bg:#fbf9f4;           /* fond crème */
      --paper:#ffffff;        /* cartes */
      --ink:#2a2a2a;          /* texte */
      --muted:#6f7b70;        /* texte secondaire */
      --brand:#2f6b55;        /* vert boutons/accents */
      --brand-700:#295d4a;
      --brand-800:#234f40;
      --accent:#c49a6c;       /* doré barre + petits accents */
      --beige:#e9e2d6;        /* fond barre (track) */
      --ring:rgba(47,107,85,.25);
      --radius:14px;
      --shadow:0 6px 24px rgba(0,0,0,.06);
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font:16px/1.55 "Inter",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    a{color:var(--brand);text-decoration:none}
    a:hover{text-decoration:underline}

    .shell{max-width:1120px;margin:auto;padding:18px}
    header{display:flex;align-items:center;gap:14px;justify-content:center;margin:10px 0 22px}
    .badge{background:var(--accent);color:#fff;font-weight:700;border-radius:999px;padding:6px 10px;font-size:12px}
    .brand{font-weight:800;letter-spacing:.2px;color:var(--brand);font-size:24px}
    .tagline{color:var(--muted);font-size:13px}

    .grid{display:grid;grid-template-columns:1.15fr .85fr;gap:18px}
    @media (max-width: 920px){ .grid{grid-template-columns:1fr} }

    .card{background:var(--paper);border-radius:var(--radius);box-shadow:var(--shadow);padding:18px}
    h2{margin:.2rem 0 1rem;font-size:20px}
    h3{margin:0 0 .75rem;font-size:18px}

    /* Pills invités + tabs */
    .pills,.tabs{display:flex;flex-wrap:wrap;gap:8px;margin:8px 0 14px}
    .pill,.tab{
      appearance:none;border:1px solid var(--beige);background:#fff;color:var(--ink);
      padding:8px 12px;border-radius:999px;cursor:pointer;font-weight:600
    }
    .pill[aria-pressed="true"], .tab[aria-selected="true"]{
      background:var(--brand);border-color:var(--brand);color:#fff
    }

    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin:12px 0}
    @media (max-width:720px){ .row{grid-template-columns:1fr} }

    label{display:block;font-weight:700;margin-bottom:6px}
    select,input[type="number"]{width:100%;padding:10px 12px;border:1px solid var(--beige);border-radius:10px;background:#fff}

    /* Estimation */
    .estimate{font-size:30px;font-weight:800;margin:.3rem 0 1rem;color:#1f1f1f}
    .bar{height:8px;border-radius:999px;background:var(--beige);overflow:hidden}
    .bar>span{height:100%;display:block;background:linear-gradient(90deg,var(--accent),#d7b78c)}
    .line{display:flex;align-items:center;justify-content:space-between;margin:10px 0 8px}
    .line strong{font-weight:700}
    .muted{color:var(--muted);font-size:13px}

    /* CTA boutons */
    .cta-row{display:flex;flex-wrap:wrap;gap:10px;margin-top:12px}
    .btn{
      border:1px solid var(--brand);background:var(--brand);color:#fff;font-weight:700;
      padding:10px 14px;border-radius:10px;cursor:pointer;box-shadow:0 2px 10px var(--ring)
    }
    .btn:hover{background:var(--brand-700);border-color:var(--brand-700)}
    .btn.ghost{background:#fff;color:var(--brand);border-color:var(--brand)}
    .btn.ghost:hover{background:#f6faf8}

    /* Section SEO + guides */
    .section{background:var(--paper);border-radius:var(--radius);box-shadow:var(--shadow);padding:18px}
    .seo p{margin:.6rem 0}
    .center{text-align:center}

    footer{color:var(--muted);font-size:13px;margin:22px 0 14px}
  </style>
</head>
<body>
  <div class="shell">
    <!-- En-tête -->
    <header>
      <span class="badge">Gratuit</span>
      <a class="brand" href="/" aria-label="Retour à l’accueil">BudgetMariage</a>
      <span class="tagline">Simulateur instantané</span>
    </header>

    <div class="grid">
      <!-- Colonne simulateur -->
      <section class="card" id="simulator">
        <h2>Calculez votre budget</h2>

        <!-- Onglets Express / Avancé -->
        <nav class="tabs" role="tablist" aria-label="Modes">
          <button class="tab" role="tab" aria-selected="true" id="tab-express">Mode express</button>
          <button class="tab" role="tab" aria-selected="false" id="tab-avance">Mode avancé</button>
        </nav>

        <!-- Raccourcis invités (cliquables) -->
        <div class="pills" id="guest-pills">
          <button class="pill" data-guests="30">30</button>
          <button class="pill" data-guests="50">50</button>
          <button class="pill" data-guests="80">80</button>
          <button class="pill" data-guests="120">120</button>
          <button class="pill" data-guests="200">200</button>
          <button class="pill" data-guests="0">Autre…</button>
        </div>

        <div class="row">
          <div>
            <label for="style">Style</label>
            <select id="style">
              <option value="std" selected>Standard</option>
              <option value="premium">Premium</option>
              <option value="eco">Économique</option>
            </select>
          </div>
          <div>
            <label for="region">Région</label>
            <select id="region">
              <option value="fr" selected>France (moy.)</option>
              <option value="idf">Île-de-France</option>
              <option value="bretagne">Bretagne</option>
              <option value="paca">PACA</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div>
            <label for="guests">Invités</label>
            <input type="number" id="guests" min="0" step="10" value="100" inputmode="numeric">
          </div>
          <div>
            <label for="imprevus">Imprévus (%)</label>
            <select id="imprevus">
              <option value="0">0%</option>
              <option value="5">5%</option>
              <option value="10" selected>10%</option>
              <option value="15">15%</option>
            </select>
          </div>
        </div>

        <!-- Estimation -->
        <div class="estimate" id="total">5 713 €</div>
        <div id="breakdown">
          <!-- lignes remplies en JS -->
        </div>

        <!-- CTAs (le 3e s’affiche seulement en “Avancé”) -->
        <div class="cta-row">
          <a class="btn ghost" href="/outils">Outils Premium & Packs</a>
          <a class="btn ghost" href="/partenaires">Sélection partenaires (robes, déco…)</a>
          <a class="btn" id="btn-checklist" href="/checklist.pdf" download hidden>Télécharger la checklist PDF</a>
        </div>

        <p class="muted" style="margin-top:10px">Estimation indicative basée sur moyennes FR.</p>
      </section>

      <!-- Colonne arguments / visuels -->
      <aside class="card">
        <h3>Pourquoi ce simulateur&nbsp;?</h3>
        <ul>
          <li>Estimation instantanée</li>
          <li>Répartition par postes</li>
          <li>Conseils pour économiser</li>
        </ul>

        <div class="section" style="margin-top:12px">
          <h3>Guides populaires</h3>
          <p class="muted">Des articles clairs et des check-lists pour chaque étape.</p>
          <p class="center" style="margin-top:10px">
            <a class="btn ghost" href="/blog">Voir tous les articles →</a>
          </p>
        </div>
      </aside>
    </div>

    <!-- Texte SEO enrichi -->
    <section class="section seo" style="margin-top:18px">
      <h2>Votre budget de mariage, clair en 30 secondes</h2>
      <p>
        Notre simulateur gratuit propose deux modes :
        <strong>Express</strong> (invités, style, région) et
        <strong>Avancé</strong> (budget global à répartir par postes).
        Les montants sont basés sur des <em>fourchettes moyennes observées en France</em> et
        s’ajustent selon la région et le niveau de prestation.
      </p>
      <p>
        Vous obtenez une <strong>répartition par poste</strong> (lieu & traiteur, tenues & alliances,
        photo/vidéo, décoration & fleurs, musique/animation, divers & imprévus) et des
        <strong>conseils pour optimiser</strong> votre budget sans sacrifier l’essentiel.
      </p>
      <p>
        Besoin d’aller plus loin ? Explorez nos <a href="/outils">Outils Premium & Packs</a> (modèles de budget,
        rétro-planning, feuilles de calcul) et découvrez notre
        <a href="/partenaires">sélection de partenaires</a> pour vos achats utiles (faire-parts,
        impression photo, robes, déco…). Objectif : arbitrer sereinement, économiser où c’est
        possible et investir là où l’impact est le plus visible le jour J.
      </p>
    </section>

    <footer class="shell">
      © <span id="y"></span> BudgetMariage.com — Outil gratuit
    </footer>
  </div>

  <!-- JS du simulateur (léger) -->
  <script>
    // Année footer
    document.getElementById('y').textContent = new Date().getFullYear();

    // État
    const state = {
      mode: 'express', // 'express' | 'avance'
      guests: 100,
      style: 'std',
      region: 'fr',
      imprevus: 10
    };

    // Map régionales (coef)
    const regionCoef = { fr:1, idf:1.18, bretagne:0.94, paca:1.12 };
    // Map style (coef)
    const styleCoef = { std:1, premium:1.25, eco:0.85 };

    // Barème de base par invité (en €)
    const perGuest = {
      lieu: 22, tenues: 3.8, photo: 3.1, deco: 2.7, musique: 2.5, divers: 3.0
    };

    // DOM
    const pills = document.querySelectorAll('.pill[data-guests]');
    const guestsInput = document.getElementById('guests');
    const styleSel = document.getElementById('style');
    const regionSel = document.getElementById('region');
    const imprSel = document.getElementById('imprevus');
    const totalEl = document.getElementById('total');
    const breakdownEl = document.getElementById('breakdown');
    const btnChecklist = document.getElementById('btn-checklist');
    const tabExpress = document.getElementById('tab-express');
    const tabAvance = document.getElementById('tab-avance');

    // Actions
    pills.forEach(p=>{
      p.addEventListener('click',()=>{
        const v = Number(p.dataset.guests);
        if(v>0){ state.guests = v; guestsInput.value = v; }
        else { guestsInput.focus(); guestsInput.select(); }
        markPills();
        render();
      });
    });
    function markPills(){
      pills.forEach(b=>{
        const v = Number(b.dataset.guests);
        b.setAttribute('aria-pressed', (v === state.guests && v>0) ? 'true':'false');
      });
    }

    guestsInput.addEventListener('input', ()=>{
      const v = Math.max(0, Number(guestsInput.value||0));
      state.guests = v;
      markPills();
      render();
    });
    styleSel.addEventListener('change', ()=>{ state.style = styleSel.value; render(); });
    regionSel.addEventListener('change', ()=>{ state.region = regionSel.value; render(); });
    imprSel.addEventListener('change', ()=>{ state.imprevus = Number(imprSel.value); render(); });

    // Tabs
    tabExpress.addEventListener('click', ()=>{
      state.mode='express';
      tabExpress.setAttribute('aria-selected','true');
      tabAvance.setAttribute('aria-selected','false');
      btnChecklist.hidden = true; // checklist visible uniquement en avancé
      render();
    });
    tabAvance.addEventListener('click', ()=>{
      state.mode='avance';
      tabExpress.setAttribute('aria-selected','false');
      tabAvance.setAttribute('aria-selected','true');
      btnChecklist.hidden = false;
      render();
    });

    // Format €
    const fmt = n => new Intl.NumberFormat('fr-FR',{style:'currency',currency:'EUR',maximumFractionDigits:0}).format(n);

    // Rendu
    function render(){
      const coefR = regionCoef[state.region] || 1;
      const coefS = styleCoef[state.style] || 1;

      const base = {};
      for(const k in perGuest){
        base[k] = perGuest[k] * state.guests * coefR * coefS;
      }

      // imprévus
      const subtotal = Object.values(base).reduce((a,b)=>a+b,0);
      const impr = subtotal * (state.imprevus/100);
      const grand = subtotal + impr;

      // total
      totalEl.textContent = fmt(grand);

      // breakdown UI
      const rows = [
        ['Lieu & Traiteur','lieu'],
        ['Tenues & Alliances','tenues'],
        ['Photo / Vidéo','photo'],
        ['Décoration & Fleurs','deco'],
        ['Musique / Animation','musique'],
        ['Divers & imprévus','divers']
      ];

      breakdownEl.innerHTML = '';
      rows.forEach(([label,key])=>{
        const val = base[key];
        const pct = Math.max(2, Math.round((val/subtotal)*100));
        const row = document.createElement('div');
        row.innerHTML = `
          <div class="line">
            <strong>${label}</strong>
            <span>${fmt(val)}</span>
          </div>
          <div class="bar" role="progressbar" aria-valuenow="${pct}" aria-valuemin="0" aria-valuemax="100">
            <span style="width:${pct}%;"></span>
          </div>
        `;
        breakdownEl.appendChild(row);
      });
    }

    // Init
    guestsInput.value = state.guests;
    markPills();
    render();
  </script>
</body>
</html>
