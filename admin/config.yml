backend:
  name: git-gateway
  branch: main

media_folder: "static/uploads"
public_folder: "/static/uploads"

# (optionnel) commente si tu ne veux pas le mode brouillon/validation
# publish_mode: editorial_workflow

collections:
  # ============ PAGES BUDGET / SIMULATEUR ============
  - name: "budgets"
    label: "Pages Budget"
    folder: "content/budgets"
    create: true
    slug: "{{slug}}"
    extension: "md"
    preview_path: "{{slug}}/"
    fields:
      - { name: "title", label: "Titre (H1)", widget: "string" }
      - { name: "seo_title", label: "SEO Title", widget: "string", required: false }
      - { name: "seo_desc", label: "Meta Description", widget: "string", required: false }
      - { name: "permalink", label: "Permalink (ex: budget-mariage-100-invites/index.html)", widget: "string" }
      - { name: "tags", label: "Tags", widget: "list", default: ["budget"] }
      - { name: "layout", label: "Layout", widget: "hidden", default: "budget.njk" }
      - { name: "body", label: "Contenu", widget: "markdown" }

  # ============ PAGES FIXES (FAQ, A propos, Contact, Mentions…) ============
  - name: "pages"
    label: "Pages"
    folder: "content/pages"
    create: true
    slug: "{{slug}}"
    extension: "md"
    preview_path: "{{slug}}/"
    fields:
      - { name: "title", label: "Titre (H1)", widget: "string" }
      - { name: "seo_title", label: "SEO Title", widget: "string", required: false }
      - { name: "seo_desc", label: "Meta Description", widget: "string", required: false }
      - { name: "permalink", label: "Permalink (ex: faq/index.html)", widget: "string" }
      - label: "Type de page"
        name: "layout"
        widget: "select"
        default: "page.njk"
        options:
          - { label: "Page standard", value: "page.njk" }
          - { label: "Page contact (formulaire)", value: "contact.njk" }
      - { name: "body", label: "Contenu", widget: "markdown" }

  # ============ BLOG / ARTICLES ============
  - name: "posts"
    label: "Articles"
    folder: "content/posts"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    extension: "md"
    preview_path: "blog/{{slug}}/"
    fields:
      - { name: "title", label: "Titre", widget: "string" }
      - { name: "seo_title", label: "SEO Title", widget: "string", required: false }
      - { name: "seo_desc", label: "Meta Description", widget: "string", required: false }
      - { name: "date", label: "Date", widget: "datetime" }
      - { name: "cover", label: "Image de couverture", widget: "image", required: false }
      - { name: "tags", label: "Tags", widget: "list", default: ["post"] }
      - { name: "permalink", label: "Permalink (ex: blog/mon-article/index.html)", widget: "string" }
      - { name: "layout", label: "Layout", widget: "hidden", default: "post.njk" }
      - { name: "excerpt", label: "Résumé (intro)", widget: "text", required: false }
      - { name: "body", label: "Contenu", widget: "markdown" }
